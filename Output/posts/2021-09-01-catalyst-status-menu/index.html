<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="overdesigned blog"/><link rel="canonical" href="https://blog.overdesigned.net/posts/2021-09-01-catalyst-status-menu"/><meta name="twitter:url" content="https://blog.overdesigned.net/posts/2021-09-01-catalyst-status-menu"/><meta name="og:url" content="https://blog.overdesigned.net/posts/2021-09-01-catalyst-status-menu"/><title>Standalone Status Menu in a Mac Catalyst App | overdesigned blog</title><meta name="twitter:title" content="Standalone Status Menu in a Mac Catalyst App | overdesigned blog"/><meta name="og:title" content="Standalone Status Menu in a Mac Catalyst App | overdesigned blog"/><meta name="description" content="How to create a standalone “status menu” app and embed it in your Mac Catalyst app."/><meta name="twitter:description" content="How to create a standalone “status menu” app and embed it in your Mac Catalyst app."/><meta name="og:description" content="How to create a standalone “status menu” app and embed it in your Mac Catalyst app."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to overdesigned blog"/></head><body class="item-page"><header><div class="wrapper"><a href="/"><b>over</b>designed blog</a><p class="secondary">by Adam Overholtzer</p></div></header><div class="wrapper"><article><div class="content"><h1>Standalone Status Menu in a Mac Catalyst App</h1><p>If you look up at the righthand side of a Mac’s menu bar, you’ll see a row of icons that are usually called <em>status menus</em>. Some status menus are provided by macOS, such as the Wi-Fi and Volume controls. But third-party apps can also create status menus to provide easy, always-available access to app features.</p><img src="/images/status-menu-help.png" alt="Screenshot of a status menu, courtesy of https://support.apple.com/guide/mac-help/menu-bar-mchlp1446/mac"/><p>In this post, I will walk you through creating a status menu app — a small AppKit app that runs separately from its parent app — and embedding it in a Mac Catalyst app. Let’s do it!</p><h2>Create the Status Menu</h2><p>First we’ll make the status menu.</p><pre data-language="swift"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppDelegate</span>: <span class="hljs-title">NSObject</span>, <span class="hljs-title">NSApplicationDelegate</span> </span>{
    
    <span class="hljs-keyword">var</span> statusItem : <span class="hljs-type">NSStatusItem!</span>
    <span class="hljs-keyword">var</span> popover : <span class="hljs-type">NSPopover!</span>

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">applicationDidFinishLaunching</span><span class="hljs-params">(<span class="hljs-number">_</span> aNotification: Notification)</span></span> {

        <span class="hljs-comment">// Create the status item</span>
        statusItem = <span class="hljs-type">NSStatusBar</span>.system.statusItem(withLength: <span class="hljs-type">NSStatusItem</span>.variableLength)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> statusButton = statusItem?.button {
            statusButton.image = <span class="hljs-type">NSImage</span>(systemSymbolName: <span class="hljs-string">"tornado"</span>, accessibilityDescription: <span class="hljs-literal">nil</span>)
            statusButton.action = #selector(togglePopover(sender:))
            statusButton.target = <span class="hljs-keyword">self</span>
        }
        
        ...
</code></pre><p>Etc.</p></div><p class="secondary">Posted by Adam Overholtzer on September 1, 2021</p></article></div><footer><p>&copy; 2020 <a href="https://overdesigned.net">C. Adam Overholtzer</a> &bull; <a href="/feed.rss">RSS</a> &bull; <a href="https://twitter.com/aoverholtzer">Contact</a></p></footer></body></html>